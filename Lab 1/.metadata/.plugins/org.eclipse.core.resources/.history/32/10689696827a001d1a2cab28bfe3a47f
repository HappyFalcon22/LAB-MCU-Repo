/*
 * buzzer.c
 *
 *  Created on: Dec 9, 2022
 *      Author: Admin
 */
#include "buzzer.h"

#define	START	100
#define	OFF		0
#define STEP_UNIT	10

// Initial config
int value = OFF;
int delay = 5000;
int step = 0;
int loud[2] = {200, 0};
int i = 0;
void buzzerRun()
{
	if (buzzer_flag == 1)
	{
		setBuzzer(delay);
		__HAL_TIM_SetCompare(&htim3, TIM_CHANNEL_3, loud[i]);
		i = (i + 1) % 2;
	}
//	if (buzzer_flag == 1)
//	{
//		__HAL_TIM_SetCompare(&htim3, TIM_CHANNEL_3, 200);
//		setBuzzer(delay);
//		if (value == OFF)
//		{
//			value = START + step;
//			step += STEP_UNIT;
//			__HAL_TIM_SetCompare(&htim3, TIM_CHANNEL_3, value);
//		}
//		else
//		{
//			value = OFF;
//			__HAL_TIM_SetCompare(&htim3, TIM_CHANNEL_3, value);
//		}
//		delay = delay - STEP_UNIT;
//		if (value >= 300)
//		{
//			value = START;
//			step = 0;
//			delay = 500;
//		}
//	}
}


